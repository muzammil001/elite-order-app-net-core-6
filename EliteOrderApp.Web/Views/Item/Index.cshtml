@using EliteOrderApp.Domain.Entities
@{
	ViewData["Title"] = "Items";
}

<!-- [ breadcrumb ] start -->
<div class="page-header">
	<div class="page-block">
		<div class="row align-items-center">
			<div class="col-md-12">
				<div class="page-header-title">
					<h3 class="m-b-10">Items</h3>
				</div>
			</div>
		</div>
	</div>
</div>
<!-- [ breadcrumb ] end -->

<div class="main-body">
	<div class="page-wrapper">
		<div class="card-block" id="view-all">
			<partial name="_ItemList" />
		</div>
	</div>
</div>
@section Scripts{
	<script>
		$(document).ready(function () {

			const cols = [
				{
					data: "name"
				},
				{
					data: "id",
					render: function (data) {
						return `<button class='btn btn-sm btn-info js-edit-customer' data-customer-id=${data}> Edit</button>` +
							`<button class='btn btn-sm btn-danger js-delete-customer' data-customer-id=${data}> Delete</button>`;
					}
				}
			];

			const table = getTable("customers", "/api/items/get-items", cols);

			editRecord("customers", ".js-edit-customer", "Customer/AddOrEdit/", "data-customer-id", "Edit Customer");

			deleteRecord("customers", ".js-delete-customer", "/api/customers/delete-customer/", "data-customer-id", table);

			refreshTableWithTime(table, 15000);

			refreshTable(".refresh-table", table);
		});


	</script>
}

